import java.util.*;
import java.io.*;

public class HWQ2 {
    public static void main(String[] args) throws FileNotFoundException {
        LinkedList<Person> people = new LinkedList<>();

        // Open an actual input file (example: "people.txt")
        FileInputStream input = new FileInputStream("people.txt");

        // Store data into the linked list
        store(input, people);

        // Display the contents of the linked list
        display(System.out, people);

        // Try finding some IDs
        System.out.println("Find ID 456: index = " + find("456", people));
        System.out.println("Find ID 999: index = " + find("999", people));
    }

    // store(): reads Person data from input stream and adds to list
    public static void store(InputStream in, LinkedList<Person> list) {
        Scanner scanner = new Scanner(in);
        while (scanner.hasNext()) {
            String firstname = scanner.next();
            String lastname = scanner.next();
            String ID = scanner.next();
            list.add(new Person(firstname, lastname, ID));
        }
        scanner.close();
    }

    // display(): prints each Person object on a new line
    public static void display(PrintStream out, LinkedList<Person> list) {
        for (Person p : list) {
            out.println(p);
        }
    }

    // find(): returns index of Person with matching ID (or -1)
    public static int find(String sid, LinkedList<Person> list) {
        for (int i = 0; i < list.size(); i++) {
            if (list.get(i).getID().equals(sid)) {
                return i;
            }
        }
        return -1;
    }
}

// Reuse Person class from Q1
class Person {
    private String firstname;
    private String lastname;
    private String ID;

    // Constructor
    public Person(String firstname, String lastname, String ID) {
        this.firstname = firstname;
        this.lastname = lastname;
        this.ID = ID;
    }

    // Accessor methods
    public String getFirstname() {
        return firstname;
    }

    public String getLastname() {
        return lastname;
    }

    public String getID() {
        return ID;
    }

    // toString method
    @Override
    public String toString() {
        return firstname + " " + lastname + " (ID: " + ID + ")";
    }
}
